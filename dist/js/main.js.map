{"version":3,"sources":["main.js"],"names":["NYT_SearcherAPI","evt","preventDefault","console","log","term","document","querySelector","value","data","q","API_KEY","axios","get","API_BASE_URL","params","then","processResults","current_ArtIndex","response","responseData","docs","displayResults","resultsPage","resImage","head","artAuthor","artPostDate","leadP","artUrl","style","display","src","multimedia","url","innerHTML","headline","main","byline","original","pub_date","abstract","lead_paragraph","href","web_url","setupListener","form","addEventListener","handleSearch","nextBtn","prevBtn","nextArticle","prevArticle"],"mappings":"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","sourcesContent":["\r\n\r\n\r\nclass NYT_SearcherAPI {\r\n    API_BASE_URL = 'https://api.nytimes.com/svc/search/v2/articlesearch.json'\r\n    API_KEY = 'jrA8G275AjGzAGjYOplvFFkZxIsEXHKG'\r\n\r\n    current_ArtIndex = null\r\n\r\n    constructor() {\r\n        this.current_ArtIndex = 0\r\n        \r\n\r\n\r\n        this.setupListener()\r\n    }\r\n\r\n    setupListener() {\r\n        const form = document.querySelector('form[name=\"article_search\"]')\r\n        form.addEventListener('submit', this.handleSearch)\r\n\r\n        const nextBtn = document.querySelector('.next_btn')\r\n        const prevBtn = document.querySelector('.prev_btn')\r\n\r\n        nextBtn.addEventListener('click', this.nextArticle)\r\n        prevBtn.addEventListener('click', this.prevArticle)\r\n    }\r\n\r\n    handleSearch = (evt) => {\r\n        evt.preventDefault()\r\n        console.log('searching....')\r\n\r\n        const term = document.querySelector('input[name=\"term\"]').value\r\n        const data = {\r\n            q: term,\r\n            'api-key': this.API_KEY\r\n        }\r\n        // axios.request({\r\n        //     url: this.API_BASE_URL,\r\n        //     params: data\r\n        // }, this.processResults)\r\n        axios.get(this.API_BASE_URL, { params: data }).then(this.processResults)\r\n    }\r\n\r\n    nextArticle = (evt) => {\r\n        evt.preventDefault()\r\n        this.current_ArtIndex ++\r\n        const term = document.querySelector('input[name=\"term\"]').value\r\n        const data = {\r\n            q: term,\r\n            'api-key': this.API_KEY\r\n        }\r\n        axios.get(this.API_BASE_URL, { params: data }).then(this.processResults)\r\n    }\r\n    prevArticle = (evt) => {\r\n        evt.preventDefault()\r\n        this.current_ArtIndex --\r\n        const term = document.querySelector('input[name=\"term\"]').value\r\n        const data = {\r\n            q: term,\r\n            'api-key': this.API_KEY\r\n        }\r\n        axios.get(this.API_BASE_URL, { params: data }).then(this.processResults)\r\n    }\r\n\r\n    \r\n    processResults = (response) => {\r\n        console.log('your results captain: ', response)\r\n        let responseData = response.data.response.docs\r\n\r\n        \r\n    \r\n\r\n        const displayResults = () => {\r\n            let resultsPage = document.querySelector('.results')\r\n            let resImage = document.querySelector('.result_image')\r\n            let head = document.querySelector('.headline')\r\n            let artAuthor = document.querySelector('.article_author')\r\n            let artPostDate = document.querySelector('.article_postDate')\r\n            let leadP = document.querySelector('.lead_paragraph')\r\n            let artUrl = document.querySelector('.article_url')\r\n            resImage.style.display = 'block'\r\n            resImage.src = 'https://static01.nyt.com/' + responseData[this.current_ArtIndex].multimedia[0].url\r\n            resultsPage.style.display = 'block'\r\n            console.log(this.current_ArtIndex)\r\n            console.log('data: ', response.data.response.docs)\r\n    \r\n            head.innerHTML = responseData[this.current_ArtIndex].headline.main\r\n            artAuthor.innerHTML = responseData[this.current_ArtIndex].byline.original\r\n            artPostDate.innerHTML = responseData[this.current_ArtIndex].pub_date\r\n            leadP.innerHTML = responseData[this.current_ArtIndex].abstract + \" \" + responseData[this.current_ArtIndex].lead_paragraph\r\n            artUrl.href = responseData[this.current_ArtIndex].web_url\r\n            \r\n    \r\n        }\r\n        \r\n        displayResults(this.current_ArtIndex)\r\n        \r\n    }\r\n\r\n\r\n}\r\n\r\nnew NYT_SearcherAPI()"],"file":"main.js"}